{{#section 'css'}}

<style>
    input {
        text-transform: none !important
    }

    .txtRequire {
        font-size: 13px;

    }
</style>

{{/section}}

{{#section 'js'}}
<script>
    $(document).ready(function () {

        //-------------password------------------
        $("#password").blur(function () {
            const password = $('#password').val();
            const noti = $('#txtRequirePassword');
            if (password.length === 0) {
                noti.html("Please fill out your password");
                noti.css('color', 'red');
            }
        })

        $("#password").keyup(function () {
            const noti = $("#txtRequirePassword")
            const pwd = String($("#password").val());
            if (password.length !== 0) {
                noti.html("");
            }

        })


        //---------------- Gmail----------------
        $("#gmail").blur(function () {
            const gmail = $('#gmail').val();
            const noti = $('#txtRequireGmail');
            if (gmail.length === 0) {
                noti.html("Please fill out your Gmail");
                noti.css('color', 'red');
            }
        })

        $("#gmail").keyup(function () {
            const gmail = $('#gmail').val();
            const noti = $('#txtRequireGmail');
            if (!validateEmail(gmail)) {
                noti.html("Incorrect gmail's format");
                noti.css('color', 'red');
            }
            else {
                noti.html("");
            }
        })

    });

    $('#frmChanngePassword').on('submit', function (e) {

        const password = String($("#password").val())
        if (password.length < 6) {
            //alert("Your password must have at least 6 characters")
            $("#txtRequirePassword").html("Your password must have at least 6 characters");
            $("#txtRequirePassword").css('color', 'red');
            $("#password").focus()
            e.preventDefault()
            return;
        }
        else {
            $("#txtRequirePassword").hide()
        }

        const gmail = $('#gmail').val();
        if (!validateEmail(gmail)) {
            $("#txtRequireGmail").html("Please fill out your Gmail");
            $("#txtRequireGmail").css('color', 'red');
            $('#gmail').focus()
            { { !--alert("Your Gmail is not valid") --} }
            e.preventDefault()
            return;
        }
    })

    //check email validation
    function validateEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }
</script>
{{/section}}


<main>
    <!-- breadcrumb Start-->
    <div class="page-notification">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb justify-content-center">
                            <li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
                            <li class="breadcrumb-item"><a href="#">Thay đổi Gmail</a></li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- breadcrumb End -->
    <!-- login Area Start -->
    <div class="login-form-area">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xl-7 col-lg-8">
                    <form id="frmChanngePassword" action="" method="POST">
                        <div class="login-form">
                            <!-- Login Heading -->
                            <div class="login-heading">
                                <span>Thay đổi Gmail</span>
                                <p>Hãy xác nhận gmail mới để kích hoạt nó!</p>
                            </div>

                            {{#if errorMessage}}
                            <div class="alert alert-danger alert-dismissible fade show">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                {{errorMessage}}
                            </div>
                            {{/if}}
                            <!-- Single Input Fields -->
                            <div class="input-box">
                                <div class="single-input-fields">
                                    <div class="d-flex justify-content-between">
                                        <label>Mật khẩu</label>
                                        <span class="txtRequire" id="txtRequirePassword"></span>
                                    </div>
                                    <input type="password" id="password" name="password" placeholder="*******">
                                </div>

                                <hr>

                                <div class="single-input-fields">
                                    <div class="d-flex justify-content-between">
                                        <label>Gmail mới</label>
                                        <span class="txtRequire" id="txtRequireGmail"></span>
                                    </div>
                                    <input type="email" id="gmail" name="newGmail"
                                        placeholder="Nhập gmail mới">
                                </div>


                                <!-- form Footer -->
                                <div class="login-footer mt-50">
                                    <p> <a href=""></a></p>
                                    <button type="submit" class="submit-btn3">Lưu</button>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- login Area End -->
</main>